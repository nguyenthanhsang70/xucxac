<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nhận Diện Thiết Bị</title>
    <style>
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        table, th, td {
            border: 1px solid black;
        }
        th, td {
            padding: 10px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
    </style>
    <script>
        function getDeviceName() {
            const userAgent = navigator.userAgent;
            let deviceInfo = {
                "Hãng": "Không xác định",
                "Loại thiết bị": "Không xác định",
                "Hệ điều hành": "Không xác định",
                "Kích thước màn hình": "Không thể lấy thông tin",
                "Card đồ họa": "Không thể lấy thông tin"
            };

            if (userAgent.match(/Android/i)) {
                deviceInfo["Hãng"] = "Android";
                deviceInfo["Loại thiết bị"] = "Điện thoại Android";
                deviceInfo["Hệ điều hành"] = "Android";
            } else if (userAgent.match(/iPhone|iPad|iPod/i)) {
                deviceInfo["Hãng"] = "Apple";
                deviceInfo["Loại thiết bị"] = userAgent.match(/iPhone/i) ? "iPhone" : "iPad";
                deviceInfo["Hệ điều hành"] = "iOS";
            } else if (userAgent.match(/Windows/i)) {
                deviceInfo["Hãng"] = "Microsoft";
                deviceInfo["Loại thiết bị"] = "Máy tính Windows";
                deviceInfo["Hệ điều hành"] = "Windows";
                
                const winMatch = userAgent.match(/Windows NT (\d+\.\d+)/);
                if (winMatch && winMatch[1]) {
                    const windowsVersion = parseFloat(winMatch[1]);
                    switch (windowsVersion) {
                        case 10.0:
                            deviceInfo["Phiên bản Windows"] = "Windows 10";
                            break;
                        case 11.0:
                            deviceInfo["Phiên bản Windows"] = "Windows 11";
                            break;
                        case 6.3:
                            deviceInfo["Phiên bản Windows"] = "Windows 8.1";
                            break;
                        case 6.2:
                            deviceInfo["Phiên bản Windows"] = "Windows 8";
                            break;
                        case 6.1:
                            deviceInfo["Phiên bản Windows"] = "Windows 7";
                            break;
                        case 6.0:
                            deviceInfo["Phiên bản Windows"] = "Windows Vista";
                            break;
                        case 5.1:
                        case 5.2:
                            deviceInfo["Phiên bản Windows"] = "Windows XP";
                            break;
                        default:
                            deviceInfo["Phiên bản Windows"] = `Windows NT ${windowsVersion}`;
                    }
                }
            } else if (userAgent.match(/Macintosh|MacIntel/i)) {
                deviceInfo["Hãng"] = "Apple";
                deviceInfo["Loại thiết bị"] = "Mac";
                deviceInfo["Hệ điều hành"] = "macOS";
            } else if (userAgent.match(/Linux/i)) {
                deviceInfo["Hãng"] = "Không xác định";
                deviceInfo["Loại thiết bị"] = "Linux";
                deviceInfo["Hệ điều hành"] = "Linux";
                if (userAgent.match(/CrOS/i)) {
                    deviceInfo["Hãng"] = "Google";
                    deviceInfo["Loại thiết bị"] = "Chromebook";
                }
            }

            // Lấy kích thước màn hình
            if (screen.width && screen.height) {
                const screenSizeInches = Math.sqrt(Math.pow(screen.width / window.devicePixelRatio, 2) + Math.pow(screen.height / window.devicePixelRatio, 2)) / 96;
                deviceInfo["Kích thước màn hình"] = `${screenSizeInches.toFixed(1)} inch`;
            }

            // Lấy thông tin GPU bằng WebGL
            try {
                const canvas = document.createElement('canvas');
                const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
                if (gl) {
                    const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
                    if (debugInfo) {
                        deviceInfo["Card đồ họa"] = gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL);
                    } else {
                        deviceInfo["Card đồ họa"] = "Không thể xác định";
                    }
                }
            } catch (e) {
                deviceInfo["Card đồ họa"] = "Không thể xác định";
            }

            // Hiển thị kết quả
            let tableHTML = "<table><tr><th>Thông số</th><th>Chi tiết</th></tr>";
            for (const key in deviceInfo) {
                tableHTML += `<tr><td>${key}</td><td>${deviceInfo[key]}</td></tr>`;
            }
            tableHTML += "</table>";
            document.getElementById("deviceInfo").innerHTML = tableHTML;
        }
    </script>
</head>
<body>
    <h1>Nhận diện thiết bị của bạn</h1>
    <button onclick="getDeviceName()">Nhận diện thiết bị</button>
    <div id="deviceInfo"></div>
</body>
</html>
